#サインスマート 1.8″ TFT カラー LCD用のグラフィックライブラリ

Pyshon言語で使用できるサインスマート1.8″TFT カラーLCD用のグラフィックライブラリを作成しました。サインスマート1.8″TFT カラーLCDは、Raspberry Pi 3とSPIで接続します。作成するグラフィックライブラリは、任意の色での描画を可能とし、描画できる図形を次に示します。

* 直線
* 四角形および四角形の塗りつぶし
* 円形および円形の塗りつぶし

Raspberry PI 3とサインスマート 1.8インチ LCDの接続は、SPIを使用します。Raspberry PI 3とサインスマート 1.8インチ LCD間の信号線の接続およびSPIの設定方法については、「[Raspberry PI 3でサインスマート 1.8″ LCDの表示](http://tomosoft.jp/design/?p=7944)」を参照してください。

##グラフィックライブラリ

サインスマート 1.8″ TFT カラー LCD用のグラフィックライブラリは、サインスマートLCDライブラリ「ST7735」とグラフィック基本ライブラリ「」の2つのクラスから構成されます。このグラフィックライブラリを使用することで、インスマート 1.8インチ LCD上に任意の色で直線、四角形、円が描画できます。また、四角形、円については任意の色で塗りつぶしが可能です。

###サインスマートLCDクラス「ST7735」
<dl>
<dt>__init__(width, height)<br>
　width, height：サインスマート 1.8″ LCDの表示画面のドット幅と高さ
</dt>
<dd>インスタンス化するときに、サインスマート 1.8″ TFT カラー LCDの画面サイズをパラメータとして受け取ります。インスタンス化されたときに、次のコードでLCDコントローラIC「ST7735R」のリセット、py-spidevのインスタンス化およびオープン、LCDコントローラIC「ST7735R」のレジスタ設定などを行います。</dd>

<dt>write_cmd(cmd)<br>
cmd：コマンドレジスタに書き込むデータ
<dd>write_cmdメソッドは、コマンドレジスタにパラメータで与えられた値をxfer2メソッドで書き込みます。</dd>

<dt>write_data(data)<br>
　data：データレジスタに書き込むデータ</dt>
<dd>write_dataメソッドは、データレジスタにパラメータで与えられた値をxfer2メソッドで書き込みます。</dd>

<dt>write(cmd)<br>
　cmd：リスト形式、[0]コマンドレジスタに書き込むデータ、[1～]データレジスタに書き込むデータ</dt>
<dd>writeメソッドは、コマンドレジスタにパラメータで与えられた最初の値をxfer2メソッドで書き込みます。次に、データレジスタにパラメータで与えられた残りの値をxfer2メソッドで書き込みます。</dd>

<dt>dot(x, y, color)<br>
　x, y：x, yピクセル位置<br>
　color：カラーコード</dt>
<dd>dotメソッドは、指定されたｘ、ｙ位置に対応する位置にパラメータで与えられたカラーコードでドットｗ表示します。</dd>

<dt>sendbuf()</dt>
<dd>sendbufメソッドは、作成した描画データをxfer2メソッドで書き込みます。</dd>
</dl>


 

###グラフィック基本クラス「Graphic」

##サンプルプログラムの実行

Raspberry Piで次のコマンドでサンプルプログラムを実行します。

```
python Graphic.py
```

次のようにサインスマート 1.8″ TFT カラー LCD上に、一本の直線、二個の円形（一個は塗りつぶし）、二個の四角形（一個は塗りつぶし）が描画されます。
<div align="center" ><img src="https://github.com/tomosoft-jp/SainSmartLcd/blob/master/images/lcd02.jpg"></div>
